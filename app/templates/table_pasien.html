{% extends "index.html" %}

{% block title %}
Tabel Pasien
{% endblock %}

{% block content %}
    <section class="mt-[5vh] text-2xl text-center font-bold">
        <p>Daftar Pasien Klinik Cepat Sembuh</p>
    </section>

    <section class="mt-[5vh]">
        <div class="flex justify-between max-w-5xl w-full mx-auto">
            <a class="p-3 bg-accent text-whites rounded-md" href="/pasien/create">Tambahkan Data</a>
        </div>
    </section>

    <!-- Table Section -->
    <section class="my-[5vh] w-full max-w-6xl mx-auto">
        {% if table %}
        <table class="w-full bg-gray-100 border-collapse">
            <thead>
                <tr class="bg-gray-300 text-black">
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Id Pasien</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Nama Pasien</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Keluhan</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Jenis Kelamin</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Tanggal Lahir</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Alamat</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">No HP</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Id Petugas</th>
                    <th class="p-4 px-6 border-l-[1px] border-t-[1px] border-b-[1px] border-r-[1px] border-accent rounded-md">Ganti / Hapus</th>
                </tr>
            </thead>
            <tbody class="bg-gray-200">
                {% for A in table %}
                <tr>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.id_pasien }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.nama_pasien }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.keluhan }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.jenis_kelamin }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.tanggal_lahir }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.alamat }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.no_hp }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">{{ A.id_petugas }}</td>
                    <td class="px-6 py-3 text-center border-l-[1px] border-b-[1px] border-r-[1px] border-accent">
                        <div class="inline-flex gap-3 justify-between text-white text-sm">
                            <a href="/pasien/update/{{ A.id_pasien }}" class="p-2 px-4 bg-accent rounded-md">Update</a>
                            <form action="/pasien/delete/{{ A.id_pasien }}" method="POST">
                                <button type="submit" class="p-2 px-4 bg-red-800 rounded-md" onclick="return confirm('Are you sure you want to delete this patient?');">Delete</button>
                            </form>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-center">No data found.</p>
        {% endif %}
    </section>
{% endblock %}
